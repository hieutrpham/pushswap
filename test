#!/usr/bin/env bash

green=$(tput setaf 2)
reset=$(tput setaf sgr0)

bin="./push_swap"
checker="./checker_linux"

min_100=1000
max_100=500
avg_100=0
for ((i=0; i<100; i++)); do
	# $bin $arg_100 | $checker $arg_100
	op=$($bin $(shuf -i0-100000 -n100) | wc -l)
	if ((op <= min_100))
	then min_100=$op;
	elif ((op >= max_100))
	then max_100=$op
	fi
	((avg_100+=$op))
done

printf "${green}======testing for 100 random numbers 100 times======${reset}\n"
echo "average: " $((avg_100/100))
echo "min: " $min_100
echo "max: " $max_100
echo
min_500=15000
max_500=5500
avg_500=0
for ((i=0; i<100; i++)); do
	# $bin $arg_100 | $checker $arg_100
	op=$($bin $(shuf -i0-100000 -n500) | wc -l)
	if ((op <= min_500))
	then min_500=$op;
	elif ((op >= max_500))
	then max_500=$op
	fi
	((avg_500+=$op))
done

printf "${green}======testing for 500 random numbers 100 times======${reset}\n"
echo "average for 500: " $((avg_500/100))
echo "min for 500: " $min_500
echo "max for 500: " $max_500

